# 처리율 제한 장치의 설계

## 내용정리

### 처리율 제한 장치

> 트래픽의 처리율을 제한하기 위한 장치

- 즉 유량제어기능을 말한다.

**장점**

- Dos(Denial of Service) 공격에 의한 자원 고갈 방지
- 비용 절감
- 서버 가용성 확보

### 설계

```
Funtional

- 특정 처리율을 초과하는 요청을 정확하게 제한해야 한다.
- 요청이 제한되었을 때, 그 사실을 사용자에게 분명하게 전달해야 한다.
(option)
- 특정 클라이언트만 선택적으로 적용할 수 있어야 한다.
-

non-Funtional

- 제한장치가 응답시간에 나쁜 영향을 주어선 안된다.
- 가능한 메모리를 적게 사용해야 한다.
- 하나의 제한장치를 여러 서비스에서 사용할 수 있어야 한다.
- 제한장치에 장애가 발생해도 시스템에 영향을 주어선 안된다.

```

## 생각

### 경험

```
이전회사의 중계서비스를 제공할 때, 트래픽 유입 제어 기능에 대한 문의를 종종 받았었다.

우리 회사에서는 고객사에서 endpoint를 호출한 횟수(트래픽)에 따라 비용청구하는 과금정책을 운영하고 있었다.

고객사 입장에서는, 특정 사용자가 우리 endpoint를 호출해야 제공가능한 기능을 능을 일반적인 사용자보다 많이 사용한다면, 필요 이상으로 요금을 지불해야하니 거래량을 제한하고 싶었을 것이다.


별개로 우리 회사에서도 유량제어의 필요성이 대두되고 있었는데, 토스나 네이버같은 빅테크 회사에서 xx서비스를 오픈할 때, 타임이벤트를 진행할 때 거래량이 몰려 거래가 밀리는 현상이 간혹 발생했었다.
```

### 조사할 키워드

- 정렬 집합 (Redis Data Structure)
-
